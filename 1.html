<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<style>
    /* 화면 꽉 채우기 및 클릭 방지 스타일 */
    body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #000; }
    
    .video-background {
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        pointer-events: none; /* 클릭 방지 */
        z-index: -99;
        overflow: hidden;
    }

    /* 비디오 확대 (검은 여백 제거용) */
    .video-foreground {
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        pointer-events: none;
    }

    /* 16:9 비율 유지하며 꽉 채우기 위한 트릭 */
    #player {
        position: absolute;
        top: 50%; left: 50%;
        width: 100vw; height: 56.25vw; /* 100 * 9 / 16 */
        min-height: 100vh;
        min-width: 177.77vh; /* 100 * 16 / 9 */
        transform: translate(-50%, -50%);
    }

    /* 콘텐츠 예시 */
    .content {
        position: relative; z-index: 1; color: white; 
        text-align: center; top: 50%; transform: translateY(-50%);
        font-family: sans-serif; mix-blend-mode: overlay;
    }
    h1 { font-size: 4rem; margin: 0; }
</style>
</head>
<body>

    <div class="video-background">
        <div class="video-foreground">
            <div id="player"></div>
        </div>
    </div>

    <div class="content">
        <h1>WeJump</h1>
        <p>Background System Active</p>
    </div>

    <script>
        // 1. 유튜브 Iframe API 코드를 비동기로 로드
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        // 2. API 코드가 다운로드된 후 실행되는 함수
        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                videoId: 'qC0vDKVPCrw', // 영상 ID (테스트용: 무료 배경)
                playerVars: {
                    'autoplay': 1,      // 자동 재생 요청
                    'controls': 0,      // 컨트롤러 숨김
                    'showinfo': 0,      // 정보 숨김
                    'rel': 0,           // 관련 동영상 표시 안 함
                    'loop': 1,          // 반복 재생
                    'playlist': 'qC0vDKVPCrw', // 반복을 위해 ID 다시 입력
                    'playsinline': 1    // 모바일에서 전체화면 방지
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }

        // 3. 비디오가 준비되면 강제로 음소거 후 재생 (가장 중요)
        function onPlayerReady(event) {
            event.target.mute();      // 1. 확실하게 음소거
            event.target.playVideo(); // 2. 그 다음 재생
        }
    </script>
</body>
</html>
